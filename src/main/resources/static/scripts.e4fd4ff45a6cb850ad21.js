import{Header,TAGS}from"./Header.js";import{History}from"./History.js";export class Pgn{constructor(r="",t={}){const s="]"===r.trim().substr(-1)?r.length:r.lastIndexOf("]\n\n")+1,e=r.substr(0,s),i=r.substr(s),h=!!t.sloppy;this.header=new Header(e),"1"===this.header.tags[TAGS.SetUp]&&this.header.tags[TAGS.FEN]?this.history=new History(i,this.header.tags[TAGS.FEN],h):this.history=new History(i,void 0,h)}render(){let r="";return r+=this.header.render(),r+="\n",r+=this.history.render(),r}}